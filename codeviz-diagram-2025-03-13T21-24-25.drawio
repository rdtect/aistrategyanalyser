<mxfile host="65bd71144e">
    <diagram id="codeviz-diagram" name="System Diagram">
        <mxGraphModel dx="680" dy="674" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="#F5F5F5" math="0" shadow="1">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="subGraph3" value="" style="html=1;whiteSpace=wrap;container=1;fillColor=#dae8fc;strokeColor=#6c8ebf;dashed=1;fillOpacity=20;strokeWidth=2;containerType=none;recursiveResize=0;movable=1;resizable=1;autosize=0;dropTarget=0;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="150" y="802" width="380" height="320" as="geometry"/>
                </mxCell>
                <mxCell id="dataSync" value="Data Synchronization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph3" vertex="1">
                    <mxGeometry x="40" y="220" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="vectorGen" value="Vector Generation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph3" vertex="1">
                    <mxGeometry x="180" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="dataTransform" value="Data Transformation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph3" vertex="1">
                    <mxGeometry x="180" y="220" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="subGraph3_label" value="Data Processing" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;labelBackgroundColor=white;spacing=5;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="158" y="810" width="304" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="subGraph2" value="" style="html=1;whiteSpace=wrap;container=1;fillColor=#dae8fc;strokeColor=#6c8ebf;dashed=1;fillOpacity=20;strokeWidth=2;containerType=none;recursiveResize=0;movable=1;resizable=1;autosize=0;dropTarget=0;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="103" y="22" width="380" height="220" as="geometry"/>
                </mxCell>
                <mxCell id="chatAPI" value="Chat API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph2" vertex="1">
                    <mxGeometry x="180" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="indexingAPI" value="Indexing API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph2" vertex="1">
                    <mxGeometry x="40" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="subGraph2_label" value="API Layer" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;labelBackgroundColor=white;spacing=5;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="111" y="30" width="304" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="subGraph1" value="" style="html=1;whiteSpace=wrap;container=1;fillColor=#dae8fc;strokeColor=#6c8ebf;dashed=1;fillOpacity=20;strokeWidth=2;containerType=none;recursiveResize=0;movable=1;resizable=1;autosize=0;dropTarget=0;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="89" y="312" width="431" height="420" as="geometry"/>
                </mxCell>
                <mxCell id="embeddingService" value="Embedding Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph1" vertex="1">
                    <mxGeometry x="82" y="320" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="indexingService" value="Indexing Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph1" vertex="1">
                    <mxGeometry x="62" y="220" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="supabaseService" value="Supabase Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph1" vertex="1">
                    <mxGeometry x="242" y="320" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="aiService" value="AI Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph1" vertex="1">
                    <mxGeometry x="202" y="220" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="analysisService" value="Analysis Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph1" vertex="1">
                    <mxGeometry x="253" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="subGraph1_label" value="Service Layer" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;labelBackgroundColor=white;spacing=5;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="97" y="320" width="355" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="subGraph0" value="" style="html=1;whiteSpace=wrap;container=1;fillColor=#dae8fc;strokeColor=#6c8ebf;dashed=1;fillOpacity=20;strokeWidth=2;containerType=none;recursiveResize=0;movable=1;resizable=1;autosize=0;dropTarget=0;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="108" y="1212" width="520" height="220" as="geometry"/>
                </mxCell>
                <mxCell id="supabase" value="Supabase DB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph0" vertex="1">
                    <mxGeometry x="180" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="vectorDB" value="Vector Database" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph0" vertex="1">
                    <mxGeometry x="40" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="prismaDB" value="PostgreSQL/Prisma" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" parent="subGraph0" vertex="1">
                    <mxGeometry x="320" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="subGraph0_label" value="Data Storage Layer" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;labelBackgroundColor=white;spacing=5;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="116" y="1220" width="444" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_embeddingService_vectorDB_0" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="embeddingService" target="vectorDB" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_embeddingService_vectorDB_0_label" value="Store Embeddings" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_embeddingService_vectorDB_0" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_embeddingService_vectorGen_1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="embeddingService" target="vectorGen" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_embeddingService_vectorGen_1_label" value="Generate Embeddings" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_embeddingService_vectorGen_1" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_indexingService_vectorDB_2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="indexingService" target="vectorDB" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_indexingService_vectorDB_2_label" value="Index Documents" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_indexingService_vectorDB_2" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_supabaseService_supabase_3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="supabaseService" target="supabase" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_supabaseService_supabase_3_label" value="CRUD Operations" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_supabaseService_supabase_3" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_aiService_embeddingService_4" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="aiService" target="embeddingService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_aiService_embeddingService_4_label" value="Query Embeddings" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_aiService_embeddingService_4" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_aiService_supabaseService_5" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="aiService" target="supabaseService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_aiService_supabaseService_5_label" value="Store Results" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_aiService_supabaseService_5" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_analysisService_aiService_6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="analysisService" target="aiService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_analysisService_aiService_6_label" value="Process Data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_analysisService_aiService_6" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_indexingService_embeddingService_7" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="indexingService" target="embeddingService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_indexingService_embeddingService_7_label" value="Generate Embeddings" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_indexingService_embeddingService_7" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_chatAPI_aiService_8" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="chatAPI" target="aiService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_chatAPI_aiService_8_label" value="Handle Requests" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_chatAPI_aiService_8" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_indexingAPI_indexingService_9" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="indexingAPI" target="indexingService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_indexingAPI_indexingService_9_label" value="Manage Indexing" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_indexingAPI_indexingService_9" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_dataSync_supabase_10" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="dataSync" target="supabase" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_dataSync_supabase_10_label" value="Sync Data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_dataSync_supabase_10" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_dataSync_vectorDB_11" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="dataSync" target="vectorDB" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_dataSync_vectorDB_11_label" value="Update Vectors" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_dataSync_vectorDB_11" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_prismaDB_supabaseService_12" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="prismaDB" target="supabaseService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_prismaDB_supabaseService_12_label" value="Persist Chat Data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_prismaDB_supabaseService_12" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_vectorDB_embeddingService_13" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="vectorDB" target="embeddingService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_vectorDB_embeddingService_13_label" value="Retrieve Vectors" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_vectorDB_embeddingService_13" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_supabase_indexingService_14" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="supabase" target="indexingService" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_supabase_indexingService_14_label" value="Store Metadata" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_supabase_indexingService_14" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_vectorGen_dataTransform_15" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="vectorGen" target="dataTransform" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_vectorGen_dataTransform_15_label" value="Transform" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_vectorGen_dataTransform_15" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-L_dataTransform_vectorDB_16" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#808080;strokeWidth=2;jumpStyle=arc;jumpSize=10;spacing=15;labelBackgroundColor=white;labelBorderColor=none;" parent="1" source="dataTransform" target="vectorDB" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-L_dataTransform_vectorDB_16_label" value="Store" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="edge-L_dataTransform_vectorDB_16" vertex="1" connectable="0">
                    <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>